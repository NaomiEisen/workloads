name: Reusable Infra Logic

on:
  workflow_call:
    inputs:
      # Argument 1: A string to print
      message_to_print:
        required: true
        type: string
      # Argument 2: A boolean to toggle failure
      simulate_error:
        required: false
        type: boolean
        default: false

jobs:
  fake-gpu-job:
    runs-on: ubuntu-latest
    steps:
      - name: Print the Argument
        run: |
          echo "ðŸ“¨ You sent this message: ${{ inputs.message_to_print }}"

      - name: Check for Failure
        if: ${{ inputs.simulate_error == true }}
        run: |
          echo "ðŸš¨ Oh no! Simulating a crash..."
          exit 1